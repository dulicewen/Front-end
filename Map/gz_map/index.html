<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title></title>

    <link rel="stylesheet" href=""/> 
    <!-- 引入 ECharts 文件 -->
    <script src="echarts.js"></script>
    <script src="echarts-gl.js"></script>
    <script src="guizhou.js"></script>

    <!-- <script src=" http://echarts.baidu.com/resource/echarts-gl-latest/dist/echarts-gl.min.js"></script> -->
   
</head>
<body>
	<div id="main" style="width:100%;height:600px;"></div>
 
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        function randomData() {
        return Math.round(Math.random()*200);
}
var geoCoordMap = {
    "贵阳市":[106.6992,26.7682],
    "安顺市":[105.9082,25.9882],
    "六盘水市":[104.7546,26.0925],
    "黔西南布依族苗族自治州":[105.5347,25.3949],
    "铜仁地区":[108.6218,28.0096],
    "黔南布依族苗族自治州":[107.2485,25.8398],
    "毕节地区":[105.1611,27.0648],
    "黔东南苗族侗族自治州":[108.4241,26.4166],
    "遵义市":[106.908,28.1744], 

};

var City_data=[
    //{name: "贵阳市",value:50},
    {name: "贵阳市"},
    {name: "安顺市"},
    {name: "六盘水市"},
    {name: "遵义市"},
    {name: "毕节地区"},
    {name:'黔西南布依族苗族自治州'},
    {name:'黔南布依族苗族自治州'},
    {name:'铜仁地区'},
    {name:'黔东南苗族侗族自治州'}
] 

 
    var convertData = function (data) {
       
    var res = [];
    for (var i = 0; i < data.length; i++) {
        var geoCoord = geoCoordMap[data[i].name];
        if (geoCoord) {
            res.push({
                name: data[i].name,
                //value: geoCoord.concat(data[i].value)
                 value:data[i].value?geoCoord.concat(data[i].value):geoCoord.concat(randomData())
            });
        }
    }
    //console.log(res);
    return res;
    };
myChart.setOption({
    backgroundColor: '#404a59',
    roam:true,
    title: {
        text: '贵州地图',
        subtext: '二级标题', 
        x:'center',
        textStyle: {
            color: '#fff'
        }
    },
    tooltip: {
        trigger: 'item',
        formatter: function (params) {
            return params.name + ' : ' + params.value[2];
        }
    },
    legend: {
        orient: 'vertical',
        y: 'bottom',
        x:'right',
        data:['citylist'],
        textStyle: {
            color: '#fff'
        }
    },
    visualMap: {
        min: 0,
        max: 200,
        calculable: true,
        inRange: {
            color: ['#50a3ba', '#eac736', '#d94e5d']
        },
        textStyle: {
            color: '#fff'
        }
    },
    geo: {
        map: '贵州',
        show:true,
        // label: {
        //      normal: {
        //         show:true,
        //         textStyle: {
        //             color: '#fff'
        //         }
        //      },
        //      emphasis: {
        //         show: true,
        //         textStyle: {
        //             color: '#fff'
        //         }
        //      }
        // },
         label: {
                normal: {
                    position: 'right',
                    show: true
                },
                emphasis: {

                    show: true,
                    textStyle:{
                        color:'#fff'
                    }
                }
            },
        itemStyle: {
            normal: {
                areaColor: '#323c48',
                borderColor: '#111'
            },
            emphasis: {
                areaColor: '#2a333d'
            }
        },
        regions: [{
             name: '贵阳市',
             itemStyle: {
            normal: {
                areaColor: 'purple',
                color: '#fff'
                   }
    }
}]
    },
    series: [{
        //      name: 'pm2.5',
        //     type: 'scatter',
        //     coordinateSystem: 'geo',
        //     data: convertData( ), 
        //     symbolSize: 12, 
        //     itemStyle: {
        //         emphasis: {
        //             borderColor: '#fff',
        //             borderWidth: 1
        //         }
        //     }
        
            name: 'citylist',
            type: 'effectScatter',
            coordinateSystem: 'geo',
            data: convertData(City_data),
            // symbolSize: function (val) {
            //     return val[2] / 10;
            // },
            showEffectOn: 'emphasis',
            rippleEffect: {
                brushType: 'stroke'
            },
            hoverAnimation: true,
            label: {
                normal: {
                     formatter: '{b}',
                    position: 'right',
                    show: true
                }
            },
            itemStyle: {
                normal: {
                    color: '#f4e925',
                    shadowBlur: 10,
                    shadowColor: '#333'
                }
            },
            zlevel: 1
    

      }]
});
    </script>
 	
</body>
</html>